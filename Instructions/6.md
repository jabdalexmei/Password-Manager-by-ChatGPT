# ТЗ FE-CLEANUP-01 — Удаление мусора и приведение Vault к единому канону (типизация/i18n/импорты)

## 0) Цель

Убрать дубли/устаревшие файлы и неиспользуемый код, чтобы в проекте остался **один каноничный путь** для Vault: `api/ + types/backend|ui + mappers + useVault + components`. После чистки проект должен собираться и Vault работать как сейчас.

---

## 1) Удалить устаревшие типы Vault

### 1.1 Удалить файл

* **Удалить:** `src/features/Vault/types.ts`

### 1.2 Проверка

* Поиск по репозиторию: `features/Vault/types` (без `/types/`)
* Должно быть **0** импортов `src/features/Vault/types.ts`.
* Все импорты типов должны идти только из:

  * `src/features/Vault/types/backend.ts`
  * `src/features/Vault/types/ui.ts`
  * `src/features/Vault/types/mappers.ts`

---

## 2) Удалить моковое хранилище (если осталось)

### 2.1 Удалить файл

* Если существует — **удалить:** `src/features/Vault/storage.ts`

### 2.2 Проверка

* Поиск: `./storage` внутри `src/features/Vault/**`
* Должно быть **0** результатов.

---

## 3) Чистка неиспользуемых импортов/кода в Vault

### 3.1 Файл: `src/features/Vault/useVault.ts`

* Удалить все неиспользуемые импорты (TS warnings должны исчезнуть), включая:

  * `moveFolder` если не используется
  * любые типы/DTO, которые не участвуют в сигнатурах функций или runtime
* Удалить мёртвые функции/ветки кода, которые нигде не вызываются.

### 3.2 Файл: `src/features/Vault/api/vaultApi.ts`

* Удалить неиспользуемые экспорты (если есть), либо обеспечить, что API-слой используется везде через один импорт.
* Стандартизировать сигнатуры:

  * методы принимают **snake_case payload**, возвращают **Backend*** типы.

---

## 4) i18n: вычистить/синхронизировать (минимальный канон)

### 4.1 Правило

После чистки должно быть **одно**:

* либо Vault полностью на i18n (`t('vault...')`), и JSON-ключи актуальны
* либо Vault полностью на хардкод-строках, и тогда удалить неиспользуемые Vault-переводы.

### 4.2 Выбранный вариант: i18n включён (предпочтительно)

1. В Vault-компонентах заменить хардкод-строки на `t(...)`:

   * `VaultHeader`
   * `Folders`
   * `DataCards`
   * `Details`
   * модалки Create/Edit
   * Trash Toggle
2. Убедиться, что используемые ключи существуют в:

   * `src/i18n/English/Vault.json`
3. Удалить из `Vault.json` неиспользуемые ключи (по факту использования).

> Если переводов пока мало — допустимо начать с 10–20 ключей для основных кнопок/лейблов и оставить остальное хардкодом, но тогда: **не должно быть “мертвого” Vault.json на 100 строк**.

---

## 5) Удалить неиспользуемые компоненты/хуки Vault (если остались)

### 5.1 Проверить папку

* `src/features/Vault/components/**`

Удалить любые файлы, которые:

* не импортируются нигде (0 references)
* относятся к старому макету Vault до интеграции

---

## 6) Настройки (settings) — убрать “неиспользуемый шум”, но не ломать

### 6.1 Если settings загружаются, но не применяются

Разрешены два режима (выбрать один):

**Режим A (оставить):**

* Оставить `getSettings()` в `useVault`, но:

  * не держать неиспользуемые переменные
  * не прокидывать settings в компоненты, если они не используются

**Режим B (убрать до следующего шага):**

* Удалить загрузку settings из `useVault`, если она вообще не влияет на UI (кроме delete logic, но delete уже зависит от backend).
* Главное: не сломать команды удаления/Trash.

---

## 7) ESLint/TypeScript hygiene

* После чистки не должно быть предупреждений:

  * `unused imports`
  * `declared but never used`
  * `cannot find module` (после удаления файлов)

---

## 8) Критерии приёмки

1. Проект собирается и запускается.
2. Vault работает как до чистки:

   * Create folder
   * Create card
   * Delete → Trash
   * Restore/Purge
3. В репозитории отсутствуют:

   * `src/features/Vault/types.ts`
   * `src/features/Vault/storage.ts`
4. В Vault есть только один путь типов: `types/backend|ui|mappers`.
5. В коде Vault нет неиспользуемых импортов/мертвых экспортов.

---
