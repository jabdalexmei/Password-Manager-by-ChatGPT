diff --git a/src-tauri/src/services/security_service.rs b/src-tauri/src/services/security_service.rs
index 7b1c6b9..9f3a6d1 100644
--- a/src-tauri/src/services/security_service.rs
+++ b/src-tauri/src/services/security_service.rs
@@ -392,16 +392,22 @@ pub fn set_profile_password(id: &str, password: &str, state: &Arc<AppState>) -> Result<ProfileMeta> {
             migrations::migrate_to_latest(&mem)?;
             migrations::validate_core_schema(&mem)
                 .map_err(|_| ErrorCodeString::new("VAULT_CORRUPTED"))?;
 
-            let serialized = mem.serialize(DatabaseName::Main).map_err(|e| {
-                log::error!(
-                    "[SECURITY][set_profile_password] profile_id={} step=serialize_mem err={}",
-                    id,
-                    format_rusqlite_error(&e)
-                );
-                classify_db_error(&e)
-            })?;
-            (mem, serialized.to_vec())
+            // IMPORTANT: `serialize()` returns a value that borrows `mem`.
+            // Materialize bytes inside a narrower scope so the borrow ends
+            // before we move `mem` out.
+            let bytes = {
+                let serialized = mem.serialize(DatabaseName::Main).map_err(|e| {
+                    log::error!(
+                        "[SECURITY][set_profile_password] profile_id={} step=serialize_mem err={}",
+                        id,
+                        format_rusqlite_error(&e)
+                    );
+                    classify_db_error(&e)
+                })?;
+                serialized.to_vec()
+            };
+            (mem, bytes)
         };
