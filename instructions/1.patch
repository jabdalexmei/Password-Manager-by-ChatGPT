diff --git a/tools/portable/PasswordManagerPortable.nsi b/tools/portable/PasswordManagerPortable.nsi
index bbf0b70..f0f3d2a 100644
--- a/tools/portable/PasswordManagerPortable.nsi
+++ b/tools/portable/PasswordManagerPortable.nsi
@@ -1,14 +1,19 @@
 Unicode true
 RequestExecutionLevel user
 
 !define APP_EXE_NAME "password-manager.exe"
 !define PORTABLE_NAME "PasswordManager-Portable.exe"
 !define TEMP_DIR_NAME "PasswordManagerPortable"
 
+; Make sure the output directory exists at compile time.
+; OutFile will fail with "Can't open output file" if the directory doesn't exist.
+!system 'cmd /c if not exist "..\..\dist-portable" mkdir "..\..\dist-portable"'
+
 OutFile "..\..\dist-portable\${PORTABLE_NAME}"
 SetCompressor /SOLID lzma
 
 ShowInstDetails nevershow
 ShowUninstDetails nevershow
 AutoCloseWindow true
