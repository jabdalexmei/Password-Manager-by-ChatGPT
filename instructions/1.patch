diff --git a/src-tauri/src/data/sqlite/repo_impl.rs b/src-tauri/src/data/sqlite/repo_impl.rs
index 6dab2d8..f65d13f 100644
--- a/src-tauri/src/data/sqlite/repo_impl.rs
+++ b/src-tauri/src/data/sqlite/repo_impl.rs
@@ -460,15 +460,19 @@ pub fn list_folders(state: &Arc<AppState>, profile_id: &str) -> Result<Vec<Folde
     })
 }
 
+fn get_folder_by_id_conn(conn: &Connection, id: &str) -> Result<Folder> {
+    let mut stmt = conn
+        .prepare("SELECT * FROM folders WHERE id = ?1")
+        .map_err(|_| ErrorCodeString::new("DB_QUERY_FAILED"))?;
+
+    stmt.query_row(params![id], map_folder)
+        .map_err(|_| ErrorCodeString::new("FOLDER_NOT_FOUND"))
+}
+
 pub fn get_folder(state: &Arc<AppState>, profile_id: &str, id: &str) -> Result<Folder> {
-    with_connection(state, profile_id, |conn| {
-        let mut stmt = conn
-            .prepare("SELECT * FROM folders WHERE id = ?1")
-            .map_err(|_| ErrorCodeString::new("DB_QUERY_FAILED"))?;
-        stmt.query_row(params![id], map_folder)
-            .map_err(|_| ErrorCodeString::new("FOLDER_NOT_FOUND"))
-    })
+    with_connection(state, profile_id, |conn| get_folder_by_id_conn(conn, id))
 }
+
 pub fn create_folder(
     state: &Arc<AppState>,
     profile_id: &str,
@@ -484,7 +488,7 @@ pub fn create_folder(
         )
         .map_err(map_constraint_error)?;
 
-        get_folder(state, profile_id, &id)
+        get_folder_by_id_conn(conn, &id)
     })
 }
 
