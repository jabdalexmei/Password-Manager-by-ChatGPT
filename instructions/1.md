
## Technical Specification (EN): Settings modal layout to match design (Settings header + Backups section)

### File

`src/features/Vault/components/modals/SettingsModal.tsx`

### Requirements

1. Dialog content must have:

   * Header with `DialogTitle` text **"Settings"** (top-left).
   * Body with a **Backups** section visually separated from header.
   * Footer with actions: **Cancel** left, **Save** right.

2. Backups section must be a semantic group:

   * Use `<fieldset>` wrapping all backup-related controls.
   * Use `<legend>` set to **"Backups"**. ([W3C][2])

3. Backups controls order/layout:

   * Row 1: label “Auto backup enabled” on the left, checkbox on the right.
   * Row 2: label “Interval (minutes)” above a full-width input.
   * Row 3: label “Retention days” above a full-width input.

4. Use Radix Dialog title structure:

   * Ensure `DialogTitle` is present in the Dialog. ([Radix UI][1])

### Implementation (drop-in TSX structure)

```tsx
import { useMemo, useState } from "react";
// adapt imports to your project (Dialog components / Button / Input / Checkbox)
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
  DialogFooter,
} from "@/components/ui/dialog";

export function SettingsModal(props: {
  open: boolean;
  onOpenChange: (v: boolean) => void;
  initialAutoEnabled: boolean;
  initialIntervalMinutes: number;
  initialRetentionDays: number;
  busy?: boolean;
  onCancel: () => void;
  onSave: (v: { autoEnabled: boolean; intervalMinutes: number; retentionDays: number }) => void;
}) {
  const [autoEnabled, setAutoEnabled] = useState(props.initialAutoEnabled);
  const [intervalMinutes, setIntervalMinutes] = useState(String(props.initialIntervalMinutes));
  const [retentionDays, setRetentionDays] = useState(String(props.initialRetentionDays));

  const busy = !!props.busy;

  const canSave = useMemo(() => {
    const interval = Number(intervalMinutes);
    const retention = Number(retentionDays);
    if (!Number.isFinite(interval) || !Number.isFinite(retention)) return false;
    if (autoEnabled && (interval < 5 || interval > 1440)) return false;
    if (retention < 1 || retention > 3650) return false;
    return true;
  }, [autoEnabled, intervalMinutes, retentionDays]);

  return (
    <Dialog open={props.open} onOpenChange={props.onOpenChange}>
      <DialogContent className="w-full max-w-[560px] p-0">
        {/* Header */}
        <DialogHeader className="px-6 pt-6">
          <DialogTitle className="text-xl font-semibold">Settings</DialogTitle>
        </DialogHeader>

        {/* Body */}
        <div className="px-6 pb-2 pt-6">
          <fieldset className="space-y-4">
            <legend className="text-sm font-semibold tracking-wide">Backups</legend>

            {/* Row: checkbox */}
            <div className="flex items-center justify-between">
              <label className="text-sm">Auto backup enabled</label>
              <input
                type="checkbox"
                checked={autoEnabled}
                disabled={busy}
                onChange={(e) => setAutoEnabled(e.target.checked)}
              />
            </div>

            {/* Row: interval */}
            <div className="space-y-2">
              <label className="text-sm">Interval (minutes)</label>
              <input
                className="w-full"
                value={intervalMinutes}
                disabled={busy || !autoEnabled}
                inputMode="numeric"
                onChange={(e) => setIntervalMinutes(e.target.value)}
              />
            </div>

            {/* Row: retention */}
            <div className="space-y-2">
              <label className="text-sm">Retention days</label>
              <input
                className="w-full"
                value={retentionDays}
                disabled={busy}
                inputMode="numeric"
                onChange={(e) => setRetentionDays(e.target.value)}
              />
            </div>
          </fieldset>
        </div>

        {/* Footer */}
        <DialogFooter className="flex items-center justify-between px-6 pb-6 pt-4">
          <button type="button" disabled={busy} onClick={props.onCancel}>
            Cancel
          </button>

          <button
            type="button"
            disabled={busy || !canSave}
            onClick={() =>
              props.onSave({
                autoEnabled,
                intervalMinutes: Number(intervalMinutes),
                retentionDays: Number(retentionDays),
              })
            }
          >
            Save
          </button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}
