

## Technical Specification (EN): Restore full legacy dark palette by updating existing `blueTheme.css` and moving theme styling out of `base.css`

### Goal

1. Move theme-dependent root/body styling out of `src/styles/base.css` into the theme file.
2. Update existing theme `src/styles/themes/blueTheme.css` to match the legacy Tailwind-like palette (gray surfaces + blue primary + red danger + green success + yellow warning + overlays/alpha variants).
3. Replace hardcoded RGBA color literals in UI CSS with theme variables for consistency.

---

## 1) Remove theme styling from base.css

### File

`src/styles/base.css`

### Replace entire file content with:

```css
/* Base/reset only. No theme colors here. */

* {
  box-sizing: border-box;
}

html,
body,
#root {
  margin: 0;
  padding: 0;
  min-height: 100vh;
}
```

**Important:** `base.css` must NOT define `:root { color/background/font-family }` and must NOT define `body { background/color }`.

---

## 2) Update existing theme file (blueTheme.css) to legacy palette

### File

`src/styles/themes/blueTheme.css`

### Replace entire file content with:

```css
:root {
  --font-body: system-ui, -apple-system, BlinkMacSystemFont, "Inter", sans-serif;

  /* ===== Legacy dark gray stack (Tailwind-like) ===== */
  --color-bg: #111827;         /* gray-900 */
  --color-surface-1: #1f2937;  /* gray-800 */
  --color-surface-2: #374151;  /* gray-700 */
  --color-surface-3: #4b5563;  /* gray-600 */
  --color-surface: var(--color-surface-1);

  --color-border: #374151;         /* border-gray-700 */
  --color-border-strong: #4b5563;  /* border-gray-600 */

  --color-input-bg: var(--color-surface-2);

  /* Text */
  --color-text: #e5e7eb;       /* gray-200 */
  --color-text-soft: #d1d5db;  /* gray-300 */
  --color-text-muted: #9ca3af; /* gray-400 */
  --color-text-faint: #6b7280; /* gray-500 */

  /* ===== Primary (Blue) ===== */
  --color-primary: #3b82f6;          /* blue-500 */
  --color-primary-strong: #2563eb;   /* blue-600 */
  --color-primary-stronger: #1d4ed8; /* blue-700 */

  /* alpha variants used in CSS */
  --color-primary-bg-08: rgba(37, 99, 235, 0.08);   /* blue-600/8% */
  --color-primary-bg-20: rgba(37, 99, 235, 0.20);   /* blue-600/20% */
  --color-primary-border-45: rgba(59, 130, 246, 0.45); /* blue-500/45% */
  --color-primary-border-55: rgba(59, 130, 246, 0.55); /* blue-500/55% */
  --color-ring: rgba(59, 130, 246, 0.40);           /* ring-blue-500/40 */

  /* ===== Danger (Red) ===== */
  --color-danger: #ef4444;         /* red-500 */
  --color-danger-strong: #dc2626;  /* red-600 */

  --color-danger-bg-08: rgba(239, 68, 68, 0.08);  /* red-500/8% */
  --color-danger-bg-12: rgba(239, 68, 68, 0.12);  /* red-500/12% */
  --color-danger-border-40: rgba(239, 68, 68, 0.40); /* red-500/40% */
  --color-danger-border-800: #991b1b; /* red-800 (for legacy borders if needed) */

  /* ===== Success (Green) ===== */
  --color-success: #22c55e;          /* green-500 */
  --color-success-bg-12: rgba(34, 197, 94, 0.12);  /* green-500/12% */

  /* ===== Warning (Yellow/Amber) ===== */
  --color-warning: #eab308;          /* yellow-500 */
  --color-warning-border: #b45309;   /* amber-700 */
  --color-warning-bg-60: rgba(146, 64, 14, 0.60);  /* amber-800/60 */

  /* ===== Overlays ===== */
  --color-overlay-02: rgba(255, 255, 255, 0.02);
  --color-overlay-08: rgba(255, 255, 255, 0.08);

  --color-backdrop-45: rgba(0, 0, 0, 0.45);
  --color-backdrop-50: rgba(0, 0, 0, 0.50);
  --color-backdrop-60: rgba(0, 0, 0, 0.60);
  --color-backdrop-70: rgba(0, 0, 0, 0.70);

  /* Geometry */
  --radius-sm: 10px;
  --radius-pill: 999px;
  --radius-md: 16px;
  --radius-lg: 24px;

  /* Shadows */
  --shadow-card: 0 18px 45px rgba(0, 0, 0, 0.45);
  --shadow-lg: 0 18px 45px rgba(0, 0, 0, 0.45);
  --shadow-popover: 0 12px 30px rgba(0, 0, 0, 0.45);

  /* Make theme control defaults */
  color: var(--color-text);
  background-color: var(--color-bg);
  font-family: var(--font-body);
}

body {
  background: var(--color-bg);
  color: var(--color-text);
}
```

---

## 3) Replace hardcoded RGBA literals in UI CSS with theme variables

### File

`src/styles/ui.css`

#### 3.1 Replace badge background

Find:

```css
.badge {
  ...
  background: rgba(37, 99, 235, 0.08);
}
```

Replace with:

```css
.badge {
  ...
  background: var(--color-primary-bg-08);
}
```

#### 3.2 Replace dialog backdrop background

Find:

```css
.dialog-backdrop {
  ...
  background: rgba(0, 0, 0, 0.45);
}
```

Replace with:

```css
.dialog-backdrop {
  ...
  background: var(--color-backdrop-45);
}
```

#### 3.3 Replace toast backgrounds

Find:

```css
.toast-success {
  ...
  background: rgba(34, 197, 94, 0.12);
}

.toast-error {
  ...
  background: rgba(239, 68, 68, 0.12);
}
```

Replace with:

```css
.toast-success {
  ...
  background: var(--color-success-bg-12);
}

.toast-error {
  ...
  background: var(--color-danger-bg-12);
}
```

(Остальные `rgba(255,255,255,0.02)` / `rgba(255,255,255,0.08)` при желании тоже заменить на `--color-overlay-02/08`.)

---

### File

`src/styles/screens/vault.css`

#### 3.4 Replace primary hint borders

Find (two occurrences):

```css
.vault-folder:hover {
  border-color: rgba(59, 130, 246, 0.45);
}

.vault-datacard:hover {
  border-color: rgba(59, 130, 246, 0.45);
}
```

Replace both with:

```css
.vault-folder:hover {
  border-color: var(--color-primary-border-45);
}

.vault-datacard:hover {
  border-color: var(--color-primary-border-45);
}
```

#### 3.5 Replace icon button hover border + danger borders/background

Find:

```css
.icon-button:hover {
  border-color: rgba(59, 130, 246, 0.55);
}

.icon-button-danger {
  border-color: rgba(239, 68, 68, 0.4);
}

.icon-button-danger:hover {
  background: rgba(239, 68, 68, 0.08);
}
```

Replace with:

```css
.icon-button:hover {
  border-color: var(--color-primary-border-55);
}

.icon-button-danger {
  border-color: var(--color-danger-border-40);
}

.icon-button-danger:hover {
  background: var(--color-danger-bg-08);
}
```

#### 3.6 Replace popover/menu shadow

Find:

```css
.datacards-menu {
  ...
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
}
```

Replace with:

```css
.datacards-menu {
  ...
  box-shadow: var(--shadow-popover);
}
```

---

## Acceptance Criteria

1. `src/styles/base.css` contains only reset/base rules and no theme-dependent colors.
2. UI matches the legacy look:

   * Dark gray background/surfaces with visible depth
   * Blue primary accents + correct hover/focus feel
   * Red danger states + consistent destructive UI
   * Toasts/backdrops look like before (same alpha behavior)
3. No `--shadow-lg` is undefined at runtime (theme defines it).
4. Hardcoded RGBA values listed above are replaced with variables.

---

