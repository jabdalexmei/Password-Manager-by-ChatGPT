
# Technical Specification: DataCard Create/Edit dialog layout update (Add file button + split footer)

## Goal

Update the DataCard Create/Edit dialog UI to match the provided mock:

* Add an **“Add file”** button (paperclip icon) at the bottom-left above the footer.
* Change the dialog footer alignment to **Cancel on the left** and **Create/Save on the right**.

## Scope

Frontend only.

## Files to change / add

* `src/features/Vault/components/DataCards/DataCards.tsx`
* `src/styles/ui.css`
* `src/i18n/English/DataCards.json`
* **New:** `src/features/Vault/icons/PaperclipIcon.tsx`

---

## 1) Add “Add file” button row in the dialog (Create + Edit)

### File

`src/features/Vault/components/DataCards/DataCards.tsx`

### Change A — import the icon

Add an import near the other icon imports:

```ts
import { PaperclipIcon } from '../../icons/PaperclipIcon';
```

### Change B — insert attachments row above footer inside `renderDialog(...)`

In `renderDialog(...)`, locate the end of the form fields block (right after the **Tags** input field) and **before**:

```tsx
<div className="dialog-footer">
```

Insert:

```tsx
<div className="dialog-attachments-row">
  <button
    className="btn btn-secondary btn-attach"
    type="button"
    onClick={() => {
      // UI-only requirement: for now just a stub handler if wiring is not ready.
      // If wiring exists: call your file picker + attachments flow.
    }}
  >
    <PaperclipIcon />
    {t('action.addFile')}
  </button>
</div>
```

> Requirement: this row must appear in both Create and Edit dialogs (because both use `renderDialog(...)`).

---

## 2) Split footer layout (Cancel left, Submit right)

### File

`src/features/Vault/components/DataCards/DataCards.tsx`

### Replace the footer markup

Find current footer:

```tsx
<div className="dialog-footer">
  <button className="btn btn-secondary" type="button" onClick={onClose}>
    {tCommon('action.cancel')}
  </button>
  <button className="btn btn-primary" type="submit" disabled={isSubmitting}>
    {submitLabel}
  </button>
</div>
```

Replace with:

```tsx
<div className="dialog-footer dialog-footer--split">
  <div className="dialog-footer-left">
    <button className="btn btn-secondary" type="button" onClick={onClose}>
      {tCommon('action.cancel')}
    </button>
  </div>

  <div className="dialog-footer-right">
    <button className="btn btn-primary" type="submit" disabled={isSubmitting}>
      {submitLabel}
    </button>
  </div>
</div>
```

---

## 3) CSS: Add “attachments row” styling + split footer styling

### File

`src/styles/ui.css`

Add these rules (place near other `.dialog-*` rules):

```css
.dialog-footer--split {
  justify-content: space-between;
}

.dialog-footer-left,
.dialog-footer-right {
  display: flex;
  align-items: center;
  gap: 10px;
}

.dialog-attachments-row {
  display: flex;
  justify-content: flex-start;
  margin-top: 4px;
  margin-bottom: 10px;
}

.btn-attach {
  padding: 10px 12px; /* slightly more compact than default buttons */
}
```

UI intent:

* The “Add file” button aligns with the left edge of inputs (same padding context as fields).
* The footer places Cancel bottom-left, Submit bottom-right.

---

## 4) Add translation key for “Add file”

### File

`src/i18n/English/DataCards.json`

Add:

```json
"action.addFile": "Add file"
```

---

## 5) Add paperclip icon component

### New file

`src/features/Vault/icons/PaperclipIcon.tsx`

### Content (SVG icon, sized to match existing button icons)

```tsx
import React from 'react';

export function PaperclipIcon() {
  return (
    <svg
      width="16"
      height="16"
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true"
      focusable="false"
    >
      <path
        d="M21.44 11.05L12.7 19.79C10.35 22.14 6.54 22.14 4.19 19.79C1.84 17.44 1.84 13.63 4.19 11.28L12.93 2.54C14.5 0.97 17.04 0.97 18.61 2.54C20.18 4.11 20.18 6.65 18.61 8.22L10.24 16.59C9.45 17.38 8.17 17.38 7.38 16.59C6.59 15.8 6.59 14.52 7.38 13.73L15.04 6.07"
        stroke="currentColor"
        strokeWidth="2"
        strokeLinecap="round"
        strokeLinejoin="round"
      />
    </svg>
  );
}
```

---

## Acceptance Criteria

1. In **Create data card** dialog:

* “Add file” button is visible at the bottom-left above the footer.
* Footer shows `Cancel` bottom-left and `Create` bottom-right.

2. In **Edit data card** dialog:

* Same layout behavior: “Add file” button present; footer split.

3. No layout regressions in other dialogs (changes are applied via additional classes, not global footer behavior).

---

