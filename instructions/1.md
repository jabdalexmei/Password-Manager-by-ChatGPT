### TZ-1 (EN): Persist correct MIME type for attachments (fix in-app preview)

**Files:**

* `src-tauri/src/services/attachments_service.rs`
* `src-tauri/Cargo.toml`
* (опционально) `src-tauri/src/data/sqlite/repo_impl.rs` — если insert не сохраняет mime_type

**Changes:**

1. Add dependency:

```toml
# src-tauri/Cargo.toml
mime_guess = "2.0"
```

2. In `add_attachment_from_path`, set `mime_type`:

```rs
let file_name = source.file_name().unwrap().to_string_lossy().to_string();
let mime = mime_guess::from_path(&file_name)
  .first_or_octet_stream()
  .essence_str()
  .to_string();

let meta = AttachmentMeta {
  ...
  file_name,
  mime_type: Some(mime),
  ...
};
```

3. Ensure `repo_impl::insert_attachment(...)` writes `mime_type` into DB (schema already has `mime_type TEXT NULL`).

**Acceptance:**

* PNG preview opens as `<img>` inside modal.
* PDF preview opens inside modal iframe.
* Attachment row meta shows real mime instead of octet-stream.

---

### TZ-2 (EN): Fix npm lock integrity and remove unused plugin-opener

**Files:**

* `package-lock.json`
* `package.json`

**Changes:**

1. Remove unused dependency:

```json
"dependencies": {
  "@tauri-apps/api": "...",
  "@tauri-apps/plugin-dialog": "...",
  "react": "...",
  "react-dom": "..."
}
```

(remove `@tauri-apps/plugin-opener`)
2) Regenerate lock without placeholders:

* delete `node_modules/`
* delete `package-lock.json`
* run `npm install`

3. Verify `package-lock.json` contains **no** `PLACEHOLDER`.

**Acceptance:**

* `npm install` completes without `EINTEGRITY`.

---

