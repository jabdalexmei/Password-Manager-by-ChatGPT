
## TECHNICAL SPEC (EN) — Replace “Use default path” checkbox with “Create in the default path” button (Workspace)

### Goal

Update Workspace screen workflow:

* Remove checkbox **Use default path**.
* Add a new button **Create in the default path**.
* Keep behavior:

  * **Create** → always opens folder picker and creates workspace at chosen path.
  * **Create in the default path** → creates workspace via backend default path (no picker).
  * **Open data folder** → keep existing behavior.

### Notes

Directory selection continues to use `@tauri-apps/plugin-dialog` `open()` API. ([Tauri][1])
Backend calls remain via Tauri `invoke` wrappers. ([Tauri][2])

---

# 1) UI logic: `Workspace.tsx`

### File

`src/features/Workspace/Workspace.tsx`

### Patch

```diff
diff --git a/src/features/Workspace/Workspace.tsx b/src/features/Workspace/Workspace.tsx
index 0e4c8e1..b3a6c33 100644
--- a/src/features/Workspace/Workspace.tsx
+++ b/src/features/Workspace/Workspace.tsx
@@ -1,6 +1,6 @@
 import React, { useCallback, useMemo, useState } from 'react';
 import { open } from '@tauri-apps/plugin-dialog';
 import { useTranslation } from '../../shared/lib/i18n';
 import {
   workspaceCreate,
   workspaceCreateDefault,
   workspaceOpenInExplorer,
   workspaceSelect,
 } from '../../shared/lib/tauri';
 import { useWorkspace } from './hooks/useWorkspace';

@@
 const Workspace: React.FC<WorkspaceProps> = ({ onWorkspaceReady }) => {
   const { t } = useTranslation('Workspace');
   const { workspaces, loading, error, selectedId, setSelectedId, refresh, remove } = useWorkspace();
-  const [useDefaultPath, setUseDefaultPath] = useState(false);
   const [busy, setBusy] = useState(false);

@@
-  const handleCreate = useCallback(async () => {
+  // Create: always pick a folder and initialize it as workspace
+  const handleCreate = useCallback(async () => {
     setBusy(true);
     try {
-      if (useDefaultPath) {
-        await workspaceCreateDefault();
-      } else {
-        const selected = await open({
-          directory: true,
-          multiple: false,
-          title: t('chooseFolder'),
-        });
-        if (typeof selected !== 'string') return;
-        await workspaceCreate(selected);
-      }
+      const selected = await open({
+        directory: true,
+        multiple: false,
+        title: t('chooseFolder'),
+      });
+      if (typeof selected !== 'string') return;
+      await workspaceCreate(selected);
       await refresh();
       onWorkspaceReady();
     } finally {
       setBusy(false);
     }
-  }, [onWorkspaceReady, refresh, t, useDefaultPath]);
+  }, [onWorkspaceReady, refresh, t]);
+
+  // Create in default path: no picker
+  const handleCreateDefault = useCallback(async () => {
+    setBusy(true);
+    try {
+      await workspaceCreateDefault();
+      await refresh();
+      onWorkspaceReady();
+    } finally {
+      setBusy(false);
+    }
+  }, [onWorkspaceReady, refresh]);

@@
           <section className="workspace-right">
             <button
               type="button"
               className="btn btn-primary workspace-cta"
               onClick={handleCreate}
               disabled={busy}
             >
               {t('create')}
             </button>
+
+            <button
+              type="button"
+              className="btn btn-primary workspace-cta"
+              onClick={handleCreateDefault}
+              disabled={busy}
+            >
+              {t('createDefaultPath')}
+            </button>

             <button
               type="button"
               className="btn btn-secondary workspace-cta-secondary"
               onClick={handleOpenDataFolder}
               disabled={busy}
             >
               {t('openDataFolder')}
             </button>
-
-            <label className="workspace-default-path">
-              <input
-                type="checkbox"
-                checked={useDefaultPath}
-                onChange={(event) => setUseDefaultPath(event.target.checked)}
-                disabled={busy}
-              />
-              <span>{t('useDefaultPath')}</span>
-            </label>

             <div className="workspace-selection-hint" aria-hidden="true">
               {selectedWorkspace ? selectedWorkspace.display_name : ''}
             </div>
           </section>
```

---

# 2) Remove now-unused CSS for the checkbox

### File

`src/shared/styles/styles/screens/workspace.css`

### Patch

```diff
diff --git a/src/shared/styles/styles/screens/workspace.css b/src/shared/styles/styles/screens/workspace.css
index 5f4b82c..b95a2a1 100644
--- a/src/shared/styles/styles/screens/workspace.css
+++ b/src/shared/styles/styles/screens/workspace.css
@@ -73,10 +73,6 @@
 .workspace-right {
   grid-column: 2;
   grid-row: 2;

   display: flex;
   flex-direction: column;
   gap: 14px;
   min-width: 0;
-
-  /* IMPORTANT: make checkbox stick to bottom */
-  height: 100%;
 }

 .workspace-cta,
 .workspace-cta-secondary {
   width: 100%;
   border-radius: 14px;
   padding: 14px 16px;
 }
-
-.workspace-default-path {
-  margin-top: auto;
-  align-self: flex-end;
-  display: inline-flex;
-  align-items: center;
-  gap: 10px;
-  font-size: 14px;
-  color: var(--color-text);
-  user-select: none;
-}

@@ -222,11 +218,6 @@
   .workspace-right {
     grid-column: 1;
     grid-row: 3;
-    height: auto;
-  }
-
-  .workspace-default-path {
-    align-self: flex-start;
-    margin-top: 8px;
   }
 }
```

---

# 3) i18n: rename/remove key, add button label

### File

`src/i18n/locales/en/Workspace.json`

### Patch

```diff
diff --git a/src/i18n/locales/en/Workspace.json b/src/i18n/locales/en/Workspace.json
index 0f6eaf3..9e4c0d1 100644
--- a/src/i18n/locales/en/Workspace.json
+++ b/src/i18n/locales/en/Workspace.json
@@ -1,15 +1,15 @@
 {
   "title": "Workspace",
   "subtitle": "Choose or create a data folder before continuing.",
   "workspaces": "Available workspaces",
   "loading": "Loading workspaces...",
   "error": "Unable to load workspaces.",
-  "empty": "No workspaces yet. Use Create or Open data folder to select a folder and initialize it.",
+  "empty": "No workspaces yet. Use Create, Create in the default path, or Open data folder to select a folder and initialize it.",
   "chooseFolder": "Choose data folder",
   "create": "Create",
+  "createDefaultPath": "Create in the default path",
   "openDataFolder": "Open data folder",
-  "useDefaultPath": "Use default path",
   "missing": "Missing",
   "invalid": "Invalid",
   "removeFromList": "Remove from list",
   "open": "Open",
   "actions": "Actions"
 }
```

---

## Acceptance criteria

1. На экране Workspace справа **3 кнопки** в этом порядке:

   * Create
   * Create in the default path
   * Open data folder
2. **Чекбокса больше нет**.
3. Create **всегда** открывает picker (`open({ directory: true })`) и создаёт через `workspaceCreate(path)`. ([Tauri][1])
4. Create in the default path вызывает `workspaceCreateDefault()` (без picker). ([Tauri][2])
5. Open data folder — без изменений.

