

## TS (diff-style)

### 1) `src/features/Vault/components/DataCards/useDataCards.ts`

**Purpose:** Add viewModel helpers to upsert a custom field by key (used for Seed phrase), including setting `type: 'secret'`.

```diff
--- src/features/Vault/components/DataCards/useDataCards.ts
+++ src/features/Vault/components/DataCards/useDataCards.ts
@@
 export type DataCardsViewModel = {
@@
   removeEditCustomFieldById: (rowId: string) => void;
+  setCreateCustomFieldByKey: (key: string, value: string, type: CustomFieldType) => void;
+  setEditCustomFieldByKey: (key: string, value: string, type: CustomFieldType) => void;
 };
@@
 const makeRowId = () =>
   globalThis.crypto?.randomUUID?.() ?? `cf_${Date.now()}_${Math.random().toString(16).slice(2)}`;
 
+const normalizeKey = (value: string) => value.trim().toLowerCase();
+
 export function useDataCards({
@@
   const removeCreateCustomFieldById = useCallback((rowId: string) => {
     setCreateForm((prev) => ({
       ...prev,
       customFields: prev.customFields.filter((row) => row.id !== rowId),
     }));
   }, []);
 
+  const setCreateCustomFieldByKey = useCallback((key: string, value: string, type: CustomFieldType) => {
+    const trimmedKey = key.trim();
+    if (!trimmedKey) return;
+    const matchKey = normalizeKey(trimmedKey);
+
+    setCreateForm((prev) => {
+      const idx = prev.customFields.findIndex((row) => normalizeKey(row.key) === matchKey);
+      if (idx >= 0) {
+        return {
+          ...prev,
+          customFields: prev.customFields.map((row, i) => (i === idx ? { ...row, value, type } : row)),
+        };
+      }
+
+      return {
+        ...prev,
+        customFields: [...prev.customFields, { id: makeRowId(), key: trimmedKey, value, type }],
+      };
+    });
+  }, []);
+
@@
   const removeEditCustomFieldById = useCallback((rowId: string) => {
     setEditForm((prev) => {
       if (!prev) return prev;
       return {
         ...prev,
         customFields: prev.customFields.filter((row) => row.id !== rowId),
       };
     });
   }, []);
 
+  const setEditCustomFieldByKey = useCallback((key: string, value: string, type: CustomFieldType) => {
+    const trimmedKey = key.trim();
+    if (!trimmedKey) return;
+    const matchKey = normalizeKey(trimmedKey);
+
+    setEditForm((prev) => {
+      if (!prev) return prev;
+      const idx = prev.customFields.findIndex((row) => normalizeKey(row.key) === matchKey);
+      if (idx >= 0) {
+        return {
+          ...prev,
+          customFields: prev.customFields.map((row, i) => (i === idx ? { ...row, value, type } : row)),
+        };
+      }
+
+      return {
+        ...prev,
+        customFields: [...prev.customFields, { id: makeRowId(), key: trimmedKey, value, type }],
+      };
+    });
+  }, []);
+
   return {
@@
     addEditCustomFieldByName,
     updateEditCustomFieldValue,
     renameEditCustomFieldById,
     removeEditCustomFieldById,
+    setCreateCustomFieldByKey,
+    setEditCustomFieldByKey,
   };
 }
```

---

### 2) `src/features/Vault/components/modals/SeedPhraseModal.tsx` (new)

**Purpose:** Inner modal opened from Create/Edit data card action menu. Lets user choose 12/18/24 and input words in a grid, then saves.

```diff
--- /dev/null
+++ src/features/Vault/components/modals/SeedPhraseModal.tsx
@@
+import React, { useEffect, useMemo, useState } from 'react';
+import { useTranslation } from '../../../../shared/lib/i18n';
+
+type WordCount = 12 | 18 | 24;
+
+type SeedPhraseModalProps = {
+  isOpen: boolean;
+  existingPhrase: string | null;
+  onCancel: () => void;
+  onSave: (words: string[]) => void;
+};
+
+const WORD_COUNTS: WordCount[] = [12, 18, 24];
+
+const splitWords = (value: string) =>
+  value
+    .trim()
+    .split(/\s+/)
+    .map((w) => w.trim())
+    .filter(Boolean);
+
+export const SeedPhraseModal: React.FC<SeedPhraseModalProps> = ({
+  isOpen,
+  existingPhrase,
+  onCancel,
+  onSave,
+}) => {
+  const { t } = useTranslation('DataCards');
+  const existingWords = useMemo(() => (existingPhrase ? splitWords(existingPhrase) : []), [existingPhrase]);
+
+  const [wordCount, setWordCount] = useState<WordCount>(12);
+  const [words, setWords] = useState<string[]>(Array.from({ length: 12 }, () => ''));
+  const [error, setError] = useState<string | null>(null);
+
+  useEffect(() => {
+    if (!isOpen) return;
+
+    const inferred = (WORD_COUNTS.includes(existingWords.length as WordCount)
+      ? (existingWords.length as WordCount)
+      : 12) as WordCount;
+
+    setWordCount(inferred);
+    setWords((prev) => {
+      const next = Array.from({ length: inferred }, (_, i) => existingWords[i] ?? '');
+      return next.length ? next : prev;
+    });
+    setError(null);
+  }, [existingWords, isOpen]);
+
+  if (!isOpen) return null;
+
+  const handleChangeCount = (next: WordCount) => {
+    setWordCount(next);
+    setWords((prev) => {
+      const trimmed = prev.slice(0, next);
+      const padded = [...trimmed, ...Array.from({ length: Math.max(0, next - trimmed.length) }, () => '')];
+      return padded;
+    });
+    setError(null);
+  };
+
+  const handleChangeWord = (index: number, value: string) => {
+    const tokens = splitWords(value);
+    setWords((prev) => {
+      const next = [...prev];
+      if (tokens.length <= 1) {
+        next[index] = value;
+        return next;
+      }
+
+      for (let i = 0; i < tokens.length; i += 1) {
+        const pos = index + i;
+        if (pos >= next.length) break;
+        next[pos] = tokens[i];
+      }
+      return next;
+    });
+    setError(null);
+  };
+
+  const handleSave = () => {
+    const normalized = words.map((w) => w.trim()).filter((w) => w.length > 0);
+    if (normalized.length !== wordCount) {
+      setError(t('seedPhrase.errorIncomplete'));
+      return;
+    }
+    onSave(words.map((w) => w.trim()));
+  };
+
+  return (
+    <div className="dialog-backdrop dialog-backdrop--inner">
+      <div className="dialog seedphrase-dialog" role="dialog" aria-modal="true" aria-labelledby="seedphrase-title">
+        <div className="dialog-header">
+          <h2 id="seedphrase-title" className="dialog-title">
+            {t('seedPhrase.title')}
+          </h2>
+        </div>
+
+        <div className="dialog-body">
+          <div className="form-field">
+            <label className="form-label" htmlFor="seedphrase-count">
+              {t('seedPhrase.wordCount')}
+            </label>
+            <select
+              id="seedphrase-count"
+              className="input"
+              value={wordCount}
+              onChange={(e) => handleChangeCount(Number(e.target.value) as WordCount)}
+            >
+              <option value={12}>{t('seedPhrase.words12')}</option>
+              <option value={18}>{t('seedPhrase.words18')}</option>
+              <option value={24}>{t('seedPhrase.words24')}</option>
+            </select>
+          </div>
+
+          <div className="seedphrase-grid" aria-label={t('seedPhrase.gridAria')}>
+            {Array.from({ length: wordCount }, (_, i) => (
+              <div className="seedphrase-cell" key={`seed-${i}`}>
+                <span className="seedphrase-index">{i + 1}.</span>
+                <input
+                  className="input seedphrase-input"
+                  value={words[i] ?? ''}
+                  onChange={(e) => handleChangeWord(i, e.target.value)}
+                  autoComplete="off"
+                  spellCheck={false}
+                />
+              </div>
+            ))}
+          </div>
+
+          {error && <div className="form-error">{error}</div>}
+        </div>
+
+        <div className="dialog-footer dialog-footer--split">
+          <div className="dialog-footer-left">
+            <button className="btn btn-secondary" type="button" onClick={onCancel}>
+              {t('action.cancel')}
+            </button>
+          </div>
+          <div className="dialog-footer-right">
+            <button className="btn btn-primary" type="button" onClick={handleSave}>
+              {t('action.save')}
+            </button>
+          </div>
+        </div>
+      </div>
+    </div>
+  );
+};
```

---

### 3) `src/shared/styles/ui.css`

**Purpose:** Seed phrase modal sizing + grid styling in the app’s theme (no white blocks).

```diff
--- src/shared/styles/ui.css
+++ src/shared/styles/ui.css
@@
 .customfield-dialog {
   width: min(420px, calc(100vw - 40px));
 }
 
+.seedphrase-dialog {
+  width: min(720px, calc(100vw - 40px));
+}
+
+.seedphrase-grid {
+  display: grid;
+  grid-template-columns: repeat(3, minmax(0, 1fr));
+  gap: 10px;
+  padding: 12px;
+  border: 1px solid var(--border-subtle);
+  border-radius: var(--radius-md);
+  background: var(--color-surface-2);
+}
+
+.seedphrase-cell {
+  display: flex;
+  align-items: center;
+  gap: 10px;
+  min-width: 0;
+}
+
+.seedphrase-index {
+  flex: 0 0 auto;
+  width: 26px;
+  text-align: right;
+  font-size: 12px;
+  color: var(--color-text-muted);
+}
+
+.seedphrase-input {
+  width: 100%;
+}
+
+.seedphrase-summary {
+  display: flex;
+  align-items: baseline;
+  justify-content: space-between;
+  gap: 12px;
+  padding: 12px 14px;
+  border: 1px solid var(--border-subtle);
+  border-radius: var(--radius-md);
+  background: var(--color-surface-2);
+}
+
+.seedphrase-summary-count {
+  font-weight: 700;
+}
```

---

### 4) `src/i18n/locales/en/DataCards.json`

**Purpose:** Add texts for Seed phrase action + modal.

```diff
--- src/i18n/locales/en/DataCards.json
+++ src/i18n/locales/en/DataCards.json
@@
   "customFields.errorDuplicate": "Field with this name already exists",
+  "seedPhrase": {
+    "addAction": "Add seed phrase",
+    "title": "Seed phrase",
+    "wordCount": "Word count",
+    "words12": "12 words",
+    "words18": "18 words",
+    "words24": "24 words",
+    "gridAria": "Seed phrase words",
+    "errorIncomplete": "Please fill all words"
+  },
   "twoFactor": {
```

---

### 5) `src/features/Vault/components/DataCards/DataCards.tsx`

**Purpose:** Add action menu item “Add seed phrase”, open modal, save phrase into `customFields` as `type: secret`, and avoid rendering that field as a regular custom field input.

```diff
--- src/features/Vault/components/DataCards/DataCards.tsx
+++ src/features/Vault/components/DataCards/DataCards.tsx
@@
 import { CustomFieldRenameModal } from '../modals/CustomFieldRenameModal';
 import { Add2FAModal } from '../modals/Add2FAModal';
+import { SeedPhraseModal } from '../modals/SeedPhraseModal';
 import { useToaster } from '../../../../shared/components/Toaster';
 import { generatePassword, PasswordGeneratorOptions } from '../../utils/passwordGenerator';
 import { DataCardFormState, DataCardsViewModel } from './useDataCards';
 import { open } from '@tauri-apps/plugin-dialog';
 import { clipboardClearAll } from '../../../../shared/lib/tauri';
@@
 export function DataCards({
@@
 }: DataCardsProps) {
   const { t } = useTranslation('DataCards');
   const { t: tCommon } = useTranslation('Common');
   const { show: showToast } = useToaster();
+  const SEED_PHRASE_FIELD_KEY = 'Seed phrase';
@@
   const [is2faModalOpen, setIs2faModalOpen] = useState(false);
   const [twoFactorTargetDialogId, setTwoFactorTargetDialogId] = useState<
     'datacard-create-dialog' | 'datacard-edit-dialog' | null
   >(null);
+  const [isSeedPhraseModalOpen, setIsSeedPhraseModalOpen] = useState(false);
+  const [seedPhraseTargetDialogId, setSeedPhraseTargetDialogId] = useState<
+    'datacard-create-dialog' | 'datacard-edit-dialog' | null
+  >(null);
@@
   useEffect(() => {
     if (isCreateOpen || isEditOpen) return;
@@
     setIs2faModalOpen(false);
     setTwoFactorTargetDialogId(null);
+    setIsSeedPhraseModalOpen(false);
+    setSeedPhraseTargetDialogId(null);
   }, [isCreateOpen, isEditOpen]);
@@
     const handleKeyDown = (event: KeyboardEvent) => {
       if (event.key === 'Escape') {
@@
         if (is2faModalOpen) {
           setIs2faModalOpen(false);
           setTwoFactorTargetDialogId(null);
           return;
         }
+        if (isSeedPhraseModalOpen) {
+          setIsSeedPhraseModalOpen(false);
+          setSeedPhraseTargetDialogId(null);
+          return;
+        }
@@
   }, [
@@
     is2faModalOpen,
+    isSeedPhraseModalOpen,
     isCreateOpen,
     isCustomFieldModalOpen,
     isEditOpen,
     isRenameModalOpen,
   ]);
@@
   const renderDialog = (
@@
     if (!form) return null;
@@
     const titleElementId = 'dialog-title';
     const isCreateDialog = dialogId === 'datacard-create-dialog';
+    const seedPhraseRow = form.customFields.find(
+      (row) => row.key.trim().toLowerCase() === SEED_PHRASE_FIELD_KEY.toLowerCase()
+    );
+    const seedPhraseWordCount = seedPhraseRow
+      ? seedPhraseRow.value
+          .trim()
+          .split(/\s+/)
+          .filter(Boolean).length
+      : 0;
+    const visibleCustomFields = form.customFields.filter(
+      (row) => row.key.trim().toLowerCase() !== SEED_PHRASE_FIELD_KEY.toLowerCase()
+    );
@@
               {isActionMenuOpen && customFieldTargetDialogId === dialogId && (
                 <div className="dialog-actionmenu" role="menu" ref={actionMenuRef}>
@@
                   <button
                     type="button"
                     className="dialog-actionmenu-item"
                     onClick={() => {
                       setIsActionMenuOpen(false);
                       setCustomFieldTargetDialogId(dialogId);
                       setCustomFieldName('');
                       setCustomFieldModalError(null);
                       setIsCustomFieldModalOpen(true);
                     }}
                   >
                     {t('customFields.add')}
                   </button>
+                  <button
+                    type="button"
+                    className="dialog-actionmenu-item"
+                    onClick={() => {
+                      setIsActionMenuOpen(false);
+                      setSeedPhraseTargetDialogId(
+                        dialogId === 'datacard-create-dialog' ? 'datacard-create-dialog' : 'datacard-edit-dialog'
+                      );
+                      setIsSeedPhraseModalOpen(true);
+                    }}
+                  >
+                    {t('seedPhrase.addAction')}
+                  </button>
                   {(form?.customFields?.length ?? 0) > 0 && (
                     <button
                       type="button"
                       className="dialog-actionmenu-item"
                       onClick={() => {
                         setIsActionMenuOpen(false);
                         setIsEditFieldsMode((prev) => !prev);
                       }}
                     >
                       {t('customFields.editFields')}
                     </button>
                   )}
                 </div>
               )}
             </div>
           </div>
@@
             <div className="form-field">
               <label className="form-label" htmlFor={`${dialogId}-password`}>
                 {t('label.password')}
               </label>
@@
               </div>
             </div>
 
-            {form.customFields.map((row) => (
+            {seedPhraseWordCount > 0 && (
+              <div className="form-field">
+                <label className="form-label">{t('seedPhrase.title')}</label>
+                <div className="seedphrase-summary">
+                  <span className="seedphrase-summary-count">{seedPhraseWordCount} words</span>
+                  <span className="muted">{t('seedPhrase.addAction')}</span>
+                </div>
+              </div>
+            )}
+
+            {visibleCustomFields.map((row) => (
               <div className="form-field" key={row.id}>
                 <label className="form-label" htmlFor={`${dialogId}-cf-${row.id}`}>
                   {row.key}
                 </label>
@@
             ))}
@@
       <Add2FAModal
@@
       />
+
+      <SeedPhraseModal
+        isOpen={isSeedPhraseModalOpen}
+        existingPhrase={
+          seedPhraseTargetDialogId === 'datacard-create-dialog'
+            ? (viewModel.createForm.customFields.find(
+                (row) => row.key.trim().toLowerCase() === SEED_PHRASE_FIELD_KEY.toLowerCase()
+              )?.value ?? null)
+            : (viewModel.editForm?.customFields.find(
+                (row) => row.key.trim().toLowerCase() === SEED_PHRASE_FIELD_KEY.toLowerCase()
+              )?.value ?? null)
+        }
+        onCancel={() => {
+          setIsSeedPhraseModalOpen(false);
+          setSeedPhraseTargetDialogId(null);
+        }}
+        onSave={(words) => {
+          const phrase = words.join(' ').trim();
+          if (seedPhraseTargetDialogId === 'datacard-create-dialog') {
+            viewModel.setCreateCustomFieldByKey(SEED_PHRASE_FIELD_KEY, phrase, 'secret');
+          } else {
+            viewModel.setEditCustomFieldByKey(SEED_PHRASE_FIELD_KEY, phrase, 'secret');
+          }
+          setIsSeedPhraseModalOpen(false);
+          setSeedPhraseTargetDialogId(null);
+        }}
+      />
     </div>
   );
 }
```

---
